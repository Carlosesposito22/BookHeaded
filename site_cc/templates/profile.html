{% extends 'base.html' %}

{% block content %}

<style>
    .superholder {
        display: flex;
        flex-direction: row;
        gap: 2rem;
    }

    .hold {
        width: 60%;
        border-top-right-radius: 2rem;
        border-top-left-radius: 2rem;
    }

    .pfp-holder {
        background-color: black;
        height: 7rem;
        width: 7rem;
        border-radius: 100%;
        margin-top: -3rem;
    }

    .banner {
        background-color: pink;
        height: 10rem;
        border-top-right-radius: 2rem;
        border-top-left-radius: 2rem;
    }

    .rest {
        height: 20rem;
        padding-left: 2rem;
        padding-right: 2rem;
        padding-top: 1rem;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
    }

    .biodiv {
        background-color: rgb(223, 223, 223);
        max-width: 100%;
        padding: 0.5rem;
        margin-top: 1rem;
        border-radius: 2rem;
        padding-left: 1rem;
        padding-right: 1rem;
    }

    .bio{
        margin: 0;
    }

    .user-data {
        background-color: aqua;
        width: fit-content;
    }

    .follow {
        background-color: #0066FF;
        border-style: none;
        border-radius: 2rem;
        padding-right: 1rem;
        padding-left: 0.5rem;
        padding-top: 0rem;
        padding-bottom: 0rem;
        color: white;
        font-weight: bold;
    }

    .follow:hover {
        background-color: #004bbb;
        color: white;
    }

    strong {
        display: flex;
        flex-direction: row;
        gap: .5rem;
        align-items: center;
        justify-content: center;
    }

    .bio-form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        margin-top: 1rem;
    }

    .bio-form textarea {
        width: 100%;
        height: 5rem;
        padding: .5rem;
        border-radius: .5rem;
        border: 1px solid #ccc;
        resize: none;
    }

    .bio-form button {
        background-color: #28a745;
        border: none;
        color: white;
        padding: .5rem 1rem;
        border-radius: .5rem;
    }

    .username-n-btn{
        display: flex;
        flex-direction: row;
        align-items: center;
        margin-top: 1rem;
        gap: 0.5rem;
    }

    .following-text:hover{
        color: rgb(164, 0, 0);
    }
</style>

<div class="container my-5 superholder">
    <div class="col hold shadow-lg">
        <div class="banner"></div>
        <div class="rest">
            <div class="img-user-bio">
                <div class="img-user">
                    <div class="pfp-holder">
                        <img src="" alt="">
                    </div>
                    <div class="username-n-btn">
                        <strong class="username">@{{ profile.user.username }}</strong>
                        {% if request.user != profile.user %}
                        {% if request.user in profile.seguindo.all %}
                        <span class="following-text">Following</span>
                        {% else %}
                        <form method="post" action="{% url 'seguir_usuario' profile.user.id %}" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="btn follow">
                                <i class="bi bi-plus"></i>
                                Follow
                            </button>
                        </form>
                        {% endif %}
                        {% endif %}
                    </div>
                </div>
                <div class="biodiv">
                    {% if request.user == profile.user %}
                    {% if profile.bio %}
                    <p class="bio">{{ profile.bio }}</p>
                    {% else %}
                    <form class="bio-form" method="post">
                        {% csrf_token %}
                        <textarea name="bio" placeholder="Write your bio here"></textarea>
                        <button type="submit">Save Bio</button>
                    </form>
                    {% endif %}
                    {% else %}
                    {% if profile.bio %}
                    <p class="bio">{{ profile.bio }}</p>
                    {% endif %}
                    {% endif %}
                </div>
            </div>
            <div class="user-data">
                <p class="user-info">User Info</p>
            </div>
        </div>
    </div>
</div>




{% endblock %}